function getModal(a){$.ajax({url:"/lar/modal/"+a,success:function(a){$("#modalContent").html(a)}})}function form_validate(a){var e=!1;switch(a){case"signup":e=1==input_duplicate_check("id")&&1==input_validate("password")&&1==input_validate("password2")&&1==input_duplicate_check("nickname")&&1==input_duplicate_check("phone");break;case"passwordModify":0==input_validate("newPassword")||0==input_validate("newPassword2")||(e=!0)}return e}function input_state_change(a,e){var o="user_"+a;1==e?($("."+a+".form-group.has-feedback").removeClass("has-error"),$("."+a+".form-group.has-feedback").addClass("has-success"),$("."+a+".glyphicon.form-control-feedback").removeClass("glyphicon-remove"),$("."+a+".glyphicon.form-control-feedback").addClass("glyphicon-ok")):0==e&&($("#"+o).focus(),$("."+a+".form-group.has-feedback").removeClass("has-success"),$("."+a+".form-group.has-feedback").addClass("has-error"),$("."+a+".glyphicon.form-control-feedback").removeClass("glyphicon-ok"),$("."+a+".glyphicon.form-control-feedback").addClass("glyphicon-remove"))}function input_help_block_change(a,e,o){var s="";if(1==o)"validate"==e?s="올바른 값 입니다.":"duplicate"==e&&(s="사용할수 있는 값 입니다.");else if(0==o)if("validate"==e)switch(a){case"id":s="올바른 이메일 양식이 아닙니다.";break;case"password":case"newPassword":s="영어 대문자, 소문자, 숫자, 특수문자가 한개 이상 들어간 8~20 글자를 입력하세요.";break;case"password2":case"newPassword2":s="입력한 비밀번호와 값이 다릅니다.";break;case"nickname":s="한,영,숫자로 이루어진 2~8 글자를 입력하세요.";break;case"phone":s="'-' 문자를 포함해서 입력해 주세요."}else"duplicate"==e&&(s="이미 사용중인 값 입니다.");$("."+a+".help-block").text(s)}function input_validate(a){var e="user_"+a,o=$("#"+e).val(),s=!1,c=0;switch(a){case"id":case"id_for_unlock":s=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,4}$/i.test(o);break;case"password":case"newPassword":s=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,20}$/g.test(o);break;case"password2":case"newPassword2":s=o==$("#"+e.slice(0,-1)).val();break;case"nickname":s=/^[가-힣a-zA-Z0-9]{2,8}$/.test(o);break;case"phone":s=/(01[016789])[-](\d{4}|\d{3})[-]\d{4}$/g.test(o)}return s&&(c=1),input_state_change(a,c),input_help_block_change(a,"validate",c),c}function input_duplicate_check(e){var o=0;if(0==input_validate(e))return o;var a=$("#"+("user_"+e)).val();return $.ajax({type:"post",url:"/lar/user/"+e+"DuplicateCheck",async:!1,data:{value:a},dataType:"json",success:function(a){a?(console.log(a),input_state_change(e,1),input_help_block_change(e,"duplicate",1),o=1):(input_state_change(e,0),input_help_block_change(e,"duplicate",0),o=0)},error:function(){alert("서버에 오류가 발생하였음.")}}),o}function getUnlockForm(a){$.ajax({type:"post",url:"/lar/user/unlock/"+a,data:$(".modal-body>form").serialize(),success:function(a){var e=$(".modal-body>form #user_id").val();$(".modal-body").html(a),$(".modal-footer").html(null),$(".modal-body>form #user_id").val(e)}})}function getForgotPasswordForm(a){$.ajax({type:"post",url:"/lar/user/forgotPassword/"+a,data:$(".modal-body>form").serialize(),success:function(a){var e=$(".modal-body>form #user_id").val();$(".modal-body").html(a),$(".modal-footer").html(null),$(".modal-body>form #user_id").val(e)}})}$(function(){$("#dynamicModal").on("hidden.bs.modal",function(){$("#modalContent").html(null)})});